<?php
#!/usr/bin/env php
declare(strict_types=1);

require_once __DIR__ . '/../vendor/autoload.php';

use Symfony\Component\Console\Application;
use Inspector\Inspector;
use Inspector\Adapters\LaravelAdapter;
use Inspector\Console\ListServicesCommand;
use Inspector\Console\InspectServiceCommand;
use Illuminate\Container\Container;

$container = new Container();
$adapter = new LaravelAdapter($container);
$inspector = new Inspector($adapter);

$application = new Application('Inspector CLI');
$application->add(new ListServicesCommand($inspector));
$application->add(new InspectServiceCommand($inspector));
$application->run();